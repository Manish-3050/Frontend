<div style="height: auto;">
    <div class="container" style="background-color: rgb(2, 105, 222); height: 13vh;">
        <div>
            <ng-container *ngIf="userData.avtar">
            <img [src]="userData.avtar" alt="image"  style="margin: 20px 0px 11px 10px;
            border-radius: 50%;
            width: 50px;">
            </ng-container>

            <ng-container *ngIf="!userData.avtar">
            <img src="../../../assets/paymentonline.jpg" alt="image"  style="margin: 20px 0px 11px 10px;
            border-radius: 50%;
            width: 50px;">
            </ng-container>
        </div>
        <div>
            <ng-container>
                <p style="margin-top: 13px;
                margin-bottom: 0rem;
                font-weight: 500;
                font-size: 16px;">{{userData.firstName}} {{userData.lastName}}</p>
                <span style="font-size: 14px;">write your status</span>
            </ng-container>
        </div>
        <ng-container >
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style=" margin: 18px 20px 15px 10px;
            height: 22px;">
            <path d="M224 0c-17.7 0-32 14.3-32 32V51.2C119 66 64 130.6 64 208v25.4c0 45.4-15.5 89.5-43.8 124.9L5.3 377c-5.8 7.2-6.9 17.1-2.9 25.4S14.8 416 24 416H424c9.2 0 17.6-5.3 21.6-13.6s2.9-18.2-2.9-25.4l-14.9-18.6C399.5 322.9 384 278.8 384 233.4V208c0-77.4-55-142-128-156.8V32c0-17.7-14.3-32-32-32zm0 96c61.9 0 112 50.1 112 112v25.4c0 47.9 13.9 94.6 39.7 134.6H72.3C98.1 328 112 281.3 112 233.4V208c0-61.9 50.1-112 112-112zm64 352H224 160c0 17 6.7 33.3 18.7 45.3s28.3 18.7 45.3 18.7s33.3-6.7 45.3-18.7s18.7-28.3 18.7-45.3z"/></svg>
            <ng-container>
            </ng-container>
            <div class="menu-container">
                <div class="menu-toggler" (click)="openCloseMenu()"  #toggleButton>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="height:22px">
                    <path d="M8 256a56 56 0 1 1 112 0A56 56 0 1 1 8 256zm160 0a56 56 0 1 1 112 0 56 56 0 1 1 -112 0zm216-56a56 56 0 1 1 0 112 56 56 0 1 1 0-112z"/></svg>
                </div>
                    <div class="menu" *ngIf="isMenuOpended"  #menu>
                        <div class="menu-item">
                           <img src="../../../assets/people.svg" alt="" style="height: 20px; width: 20px;"> Pofile</div>
                        <div class="menu-item">
                          <img src="../../../assets/gear.svg" alt="setting" style="height: 20px; width: 20px;">  Setting</div>
                        <div class="menu-item" (click)="logout()">
                            <img src="../../../assets/login-svgrepo-com.svg" alt="logout" style="height: 20px; width: 20px;"> Log-out
                        </div>
                    </div>
            </div>
        </ng-container>
        
    </div>


    <ng-container *ngIf="!openSearchBox">
        <div style="background-color: rgb(2, 105, 222); display: flex; align-items: center;">
            <input placeholder="People, groups,messages ... " class="chat-input" style="width: 60%;
      width: 68%;
      margin: 12px 6px 10px 30px;
      height: 6vh;" (click)="openSearchBox=true">
            <!-- <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="height: 3vh;">!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.<path d="M164.9 24.6c-7.7-18.6-28-28.5-47.4-23.2l-88 24C12.1 30.2 0 46 0 64C0 311.4 200.6 512 448 512c18 0 33.8-12.1 38.6-29.5l24-88c5.3-19.4-4.6-39.7-23.2-47.4l-96-40c-16.3-6.8-35.2-2.1-46.3 11.6L304.7 368C234.3 334.7 177.3 277.7 144 207.3L193.3 167c13.7-11.2 18.4-30 11.6-46.3l-40-96z"/></svg> -->
            <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="grid" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="svg-inline--fa fa-grid fa-lg" style="  height: 3vh;margin-left: 10px;"><path fill="currentColor" d="M0 72C0 49.9 17.9 32 40 32H88c22.1 0 40 17.9 40 40v48c0 22.1-17.9 40-40 40H40c-22.1 0-40-17.9-40-40V72zM0 232c0-22.1 17.9-40 40-40H88c22.1 0 40 17.9 40 40v48c0 22.1-17.9 40-40 40H40c-22.1 0-40-17.9-40-40V232zM128 392v48c0 22.1-17.9 40-40 40H40c-22.1 0-40-17.9-40-40V392c0-22.1 17.9-40 40-40H88c22.1 0 40 17.9 40 40zM160 72c0-22.1 17.9-40 40-40h48c22.1 0 40 17.9 40 40v48c0 22.1-17.9 40-40 40H200c-22.1 0-40-17.9-40-40V72zM288 232v48c0 22.1-17.9 40-40 40H200c-22.1 0-40-17.9-40-40V232c0-22.1 17.9-40 40-40h48c22.1 0 40 17.9 40 40zM160 392c0-22.1 17.9-40 40-40h48c22.1 0 40 17.9 40 40v48c0 22.1-17.9 40-40 40H200c-22.1 0-40-17.9-40-40V392zM448 72v48c0 22.1-17.9 40-40 40H360c-22.1 0-40-17.9-40-40V72c0-22.1 17.9-40 40-40h48c22.1 0 40 17.9 40 40zM320 232c0-22.1 17.9-40 40-40h48c22.1 0 40 17.9 40 40v48c0 22.1-17.9 40-40 40H360c-22.1 0-40-17.9-40-40V232zM448 392v48c0 22.1-17.9 40-40 40H360c-22.1 0-40-17.9-40-40V392c0-22.1 17.9-40 40-40h48c22.1 0 40 17.9 40 40z" class=""></path></svg>
        </div>
        <div style=" height: 12vh; overflow-y: auto; background-color: aliceblue;">
            <div class="container" style="background-color: aliceblue;">
                <div class="row">
                  <!-- <div class="col col-lg-4" style=" padding: 10px 25px 20px 80px;"> -->
                    <div class="col col-lg-3" style="padding: 12px 5px 12px 10px; text-align: center;">
                      <span class="icon icon-bird" style="height: 22px; width: 22px; margin: 0px;padding: 0px;">.
                      </span>
                      <label style="font-size: smaller; display: block;">chats</label>
                    </div>
                  <!-- </div> -->
                  <div class="col col-lg-3" style="padding: 10px 18px 12px 13px;text-align: center;">
                    <span class="icon icon-video" style="height: 22px; width: 22px; margin: 0px;padding: 0px;">.
                    </span>
                    <label style="font-size: smaller;">calls</label>
                  </div>
                  <div class="col col-lg-3" style="padding: 9px 10px 12px 10px; text-align: center;">
                    <span class="icon icon-contact" style="height: 22px; width: 22px; margin: 0px;padding: 0px;">.
                    </span>
                    <label style="font-size: smaller;">contacts</label>
                 </div>
                 <div class="col col-lg-3" style="padding: 10px 1px 1px 17px; text-align: center;">
                    <span class="icon icon-group" style="height: 22px; width: 22px; margin: 0px;padding: 0px;">.
                    </span>
                    <label style="font-size: smaller;"> Group</label>
                 </div>
                </div>
              </div>
        </div>
        <div style="height: 62vh; overflow-y: auto;">
            <div *ngFor="let contact of contacts">
                <div class="container" (click)="setCurrentContact(contact)">
                    <div>
                        <img src="../../../assets/paymentonline.jpg" alt="image"  style="margin: 20px 0px 11px 10px;
                        border-radius: 50%;
                        width: 50px;">
                    </div>
                    <div *ngIf="contact.isGroup">
                        <p style="margin-top: 13px;
                        margin-bottom: 0rem;
                        font-weight: 500;
                        font-size: 16px;">{{contact.name}} 
                        <span style="margin-left: 25px;margin-bottom: 0rem;font-weight: 400;font-size: 12px;">{{contact?.lastMessages?.createdAt | dateAgo}}</span></p>
                        <span *ngIf="contact?.lastMessages?.content.length >= 20" style="font-size: 14px;">{{contact?.lastMessages?.content | slice: 0 : 20}}...</span>
                        <span *ngIf="contact?.lastMessages?.content.length < 20" style="font-size: 14px;">{{contact?.lastMessages?.content}}</span>
    
                    </div>
    
                    <div *ngIf="!contact.isGroup">
                        <ng-container *ngFor=" let participant of contact.participants">
                            <p style="margin-top: 13px;
                            margin-bottom: 0rem;
                            font-weight: 500;
                            font-size: 16px;" *ngIf="participant._id!=userData.id">{{participant.firstName}} {{participant.lastName}}
                            <span style="margin-left: 25px;margin-bottom: 0rem;font-weight: 400;font-size: 12px;">{{contact?.lastMessages?.createdAt | dateAgo | slice:0:11}}</span></p>
                        </ng-container>
                        <span *ngIf="contact?.lastMessages?.content?.length > 20" style="font-size: 14px;">{{contact?.lastMessages?.content | slice: 0 : 20}}...</span>
                        <span *ngIf="contact?.lastMessages?.content?.length < 20" style="font-size: 14px;">{{contact?.lastMessages?.content}}</span>
    
                    </div>
                </div>
                
            </div>
        </div>
    </ng-container>

    <ng-container *ngIf="openSearchBox">
        <div style="background-color: rgb(219, 242, 250); display: flex; align-items: center; margin-bottom: 5px;">
            <div id="cover" style="width: 100%; height: 9vh;" >
                <form >
                    <div class="tb">
                        <div class="td">
                            <div class="input-container">
                                <input type="text" id="searchInput" placeholder="Search" required style="width: 100%; height:9vh; background-color:  rgb(219, 242, 250); font-size: 20px;
                                margin: 0px 0px 0px 0px;">
                                <button (click)="openSearchBox=false" type="button" id="clearButton">Ã—</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>


        <div style=" height: 12vh; overflow-y: auto; background-color: aliceblue;">
            <div class="container" style="background-color: aliceblue;">
                <div class="row">
                  <!-- <div class="col col-lg-4" style=" padding: 10px 25px 20px 80px;"> -->
                    <div class="col col-lg-3" style="padding: 12px 5px 12px 10px; text-align: center;">
                      <span class="icon icon-bird" style="height: 22px; width: 22px; margin: 0px;padding: 0px;">.
                      </span>
                      <label style="font-size: smaller; display: block;">chats</label>
                    </div>
                  <!-- </div> -->
                  <div class="col col-lg-3" style="padding: 10px 18px 12px 13px;text-align: center;">
                    <span class="icon icon-video" style="height: 22px; width: 22px; margin: 0px;padding: 0px;">.
                    </span>
                    <label style="font-size: smaller;">calls</label>
                  </div>
                  <div class="col col-lg-3" style="padding: 9px 10px 12px 10px; text-align: center;">
                    <span class="icon icon-contact" style="height: 22px; width: 22px; margin: 0px;padding: 0px;">.
                    </span>
                    <label style="font-size: smaller;">contacts</label>
                 </div>
                 <div class="col col-lg-3" style="padding: 10px 1px 1px 17px; text-align: center;">
                    <span class="icon icon-group" style="height: 22px; width: 22px; margin: 0px;padding: 0px;">.
                    </span>
                    <label style="font-size: smaller;"> Group</label>
                 </div>
                </div>
              </div>
        </div>



    </ng-container>

</div>
